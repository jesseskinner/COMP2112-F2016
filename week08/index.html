<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Internet APIs</title>
</head>
<body>

<script src="https://code.jquery.com/jquery-3.1.1.js"></script>

<ol id="results"></ol>

<script>
var favouriteBook = prompt('What is your favourite book?')

$.ajax({
    url: 'https://www.googleapis.com/books/v1/volumes',
    data: {
        q: favouriteBook
    },
    dataType: 'jsonp',
    success: function (data) {
        renderResults(data)
    }
})

function renderResults(data) {
    var ol = document.querySelector('#results')

    data.items.forEach(function (item) {
        var li = document.createElement('li')
        var h1 = document.createElement('h1')
        var img = document.createElement('img')

        h1.textContent = item.volumeInfo.title
        img.src = item.volumeInfo.imageLinks.thumbnail

        li.appendChild(h1)
        li.appendChild(img)
        ol.appendChild(li)
    })
}

</script>

</body>
</html>
